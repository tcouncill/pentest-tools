#!/usr/bin/python3

import socket
import time
import sys
import requests
#

s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

hostname = "hackthissite.org"
host = "137.74.187.101"
ports = [80,443]
success = []
failed = []

def portScanner(p):
    if s.connect_ex((host,p)):
        #print("Port",p,"is closed on",host)
        failed.append(p)
    else:
        #print("Port",p,"is open on",host)
        success.append(p)

for p in ports:
    portScanner(p)
    time.sleep(.1)

print("For host",host,":")

for s in success:
    print(s,"open")

for f in failed:
    print(f,"closed")

print("---------------")

for s in success:
    r = requests.get("http://"+hostname)
    print(r.headers)
